# Структура каталогов

- src/ - исходный код проекта
     - api/ - Каталог содержит реализацию presentation слоя в виде REST API на FastAPI
     - bot/ - Реализация presentation слоя в виде телеграмм бота
        - common/ - Общая логика, для всех модулей в bot/
        - root_router.py - Корневой роутер aiogramm, именно он и будет подключаться в dispatcher
        - some_module1
        - some_module2
     - modules/ - Реализация трех остальных слоев приложения: domain, application и infrastructure
        - common/ - Общая логика для всех этих модулей


## Структура модуля в src/bot

Каждый модуль из себя представляет одну команду. Каждую страницу можно воспринимать как страницу в браузере, а в рамках этой
"страницы" дополнительное взаимодействие может происходить через inline кнопки и finite state. Например, модуль "profile" из
себя представляет сообщение с информацией о пользователя, а так же в inline кнопками у этого сообщения. Эти кнопки позволяют
редактировать данные пользователя. Также может быть и отложенная команда бота (job), например, PollAttendance.

## Структура модуля в src/modules 

Каждый модуль имеет такую структуру

- module_name/
    - domain/ - Реализация domain слоя.
        - models/ - Содержит себе все модели из реального мира. Просто константные dataclasses.
        - enums/ - Полезные перечисления, статусы и т. д.

    - application/ - Реализация application слоя.
        - commands/ - Все комманды, сделанные по паттерну CQRS.
        - gateways/ - Интерфесы, описывающие взаимодействие с внешним модулем.
        - queries/ - Запросы, сделанные по паттерну CQRS.
        - repositories/ - Интерфейсы репозиториев, используемых в данном модуле.

    - infrastructure/ - Реализация слоя infrastructure.
        - gateways/ - Имплементация интерфейсов из module_name/application/gateways/
        - persistence/ - Модуль, отвечающий за сохранение данных
            - mappers/ - Модуль, содержащий в себе DataMappers.
            - repositories/ - Имплементация репозиториев из module_name/application/repositories/
        - container.py - Конфигурация DI контейнера этого модуля
        - contract.py - Реализация интерфейса контракта этого модуля

    - contract.py - Интерфейс контракта этого модуля. Только его может в себя импортировать другой модуль.
